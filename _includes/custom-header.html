<header class="site-header" role="banner">
  <div class="wrapper site-header-inner">
    <h1 class="site-title">
      <a href="{{ '/' | relative_url }}" rel="home">{{ site.title }}</a>
    </h1>

    <button id="menu-toggle" aria-label="Menu" aria-expanded="false" aria-controls="main-menu">
      <span class="hamburger"></span>
    </button>

    <nav id="main-menu" class="site-nav" role="navigation" aria-label="Primary navigation">
      <ul class="nav">
        {%- for page in site.header_pages -%}
          {%- assign my_page = site.pages | where: "path", page | first -%}
          {%- if my_page.title -%}
            <li class="nav-item"><a href="{{ my_page.url | relative_url }}">{{ my_page.title | escape }}</a></li>
          {%- endif -%}
        {%- endfor -%}
      </ul>
    </nav>
  </div>
</header>

<script>
  const menuToggle = document.getElementById('menu-toggle');
  const mainMenu = document.getElementById('main-menu');
  menuToggle.addEventListener('click', () => {
    const expanded = menuToggle.getAttribute('aria-expanded') === 'true' || false;
    menuToggle.setAttribute('aria-expanded', !expanded);
    mainMenu.classList.toggle('is-open');
  });
</script>
